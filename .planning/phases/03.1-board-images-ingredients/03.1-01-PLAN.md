---
phase: 03.1-board-images-ingredients
plan: 01
type: execute
---

<objective>
Add board images and ingredients section to the order page.

Purpose: Give customers a visual preview of each board size and show them what's included.
Output: BoardSizeSelector with images from gallery, plus ingredients section below the form.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context
@.planning/phases/03-order-form-validation/03-01-SUMMARY.md

# Key source files
@src/components/board-size-selector.tsx
@src/components/order-form-section.tsx
@src/app/order/page.tsx
@src/app/api/gallery/route.ts

**Tech stack available:**
- Next.js Image component for optimized images
- Existing gallery API at /api/gallery returns Dropbox images
- Tailwind CSS for styling

**Established patterns:**
- Client components for interactive UI
- Server Components can fetch data and pass as props

**User requirements:**
- Use 3 images from existing Dropbox gallery (first 3 available)
- Standard chocolate ingredients: assorted chocolates, truffles, chocolate-covered fruits, nuts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add images to BoardSizeSelector</name>
  <files>src/components/board-size-selector.tsx, src/components/order-form-section.tsx, src/app/order/page.tsx</files>
  <action>
Add images to each board size card by fetching from the gallery API.

**Implementation:**

1. Update `OrderFormSection` to fetch gallery images on mount:
   - Fetch from `/api/gallery`
   - Take first 3 images for small, medium, large boards
   - Pass images to BoardSizeSelector as prop
   - Handle loading state with skeleton/placeholder

2. Update `BoardSizeSelector`:
   - Accept `images` prop: `{ small?: string, medium?: string, large?: string }`
   - Add image above the text content in each card
   - Use Next.js Image component with `unoptimized` (Dropbox URLs)
   - Show gray placeholder while loading or if image missing
   - Image should be aspect-ratio 4:3, cover the top of the card

3. Card layout change:
   - Image at top (rounded-t-lg)
   - Content below with padding
   - Keep selection indicator and popular badge

**What to avoid:**
- Don't block the page render on image load (show placeholders first)
- Don't hardcode Dropbox URLs (fetch dynamically)
- Don't break the selection functionality
  </action>
  <verify>`npm run build` succeeds, visit /order and see images loading in board cards</verify>
  <done>Board size cards show images from Dropbox gallery, graceful fallback if images unavailable</done>
</task>

<task type="auto">
  <name>Task 2: Add ingredients section</name>
  <files>src/components/order-form-section.tsx</files>
  <action>
Add an ingredients section below the order form showing what's included in the boards.

**Implementation:**

1. Add a new section after the form in OrderFormSection:
   - Heading: "What's Included"
   - Subtext: "All boards feature our signature selection"
   - Grid of ingredients with icons

2. Ingredients list (same for all sizes):
   - Assorted premium chocolates
   - Artisan truffles
   - Chocolate-covered strawberries
   - Caramel clusters
   - Chocolate-dipped pretzels
   - Roasted nuts

3. Styling:
   - Light background (bg-muted/50 or similar)
   - 2-column grid on mobile, 3-column on desktop
   - Each item with a small candy/chocolate icon (use lucide-react icons or emoji)
   - Rounded corners, subtle border

**What to avoid:**
- Don't make it too prominent (it's supplementary info)
- Don't add ingredients that aren't actually included
  </action>
  <verify>`npm run build` succeeds, ingredients section visible below form</verify>
  <done>Ingredients section displays below order form with 6 items in responsive grid</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] Board cards show images from gallery
- [ ] Images have loading/fallback state
- [ ] Ingredients section visible and styled
- [ ] Selection still works correctly
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Board images load from Dropbox gallery
- Ingredients section displays correctly
- Existing functionality preserved
</success_criteria>

<output>
After completion, create `.planning/phases/03.1-board-images-ingredients/03.1-01-SUMMARY.md` following the summary template.

Update ROADMAP.md:
- Add Phase 3.1 as INSERTED between Phase 3 and 4
- Mark as complete
</output>
